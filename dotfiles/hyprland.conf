############ ALT-BASED MINIMAL HYPRLAND CONFIG ############

# =====================
# NVIDIA / CURSOR FIXES
# =====================
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = LIBVA_DRIVER_NAME,nvidia
env = GBM_BACKEND,nvidia-drm
env = WLR_NO_HARDWARE_CURSORS,1
env = XCURSOR_THEME,Simp1e-Tokyo-Night
env = XCURSOR_SIZE,24

# =====================
# MONITOR
# =====================
monitor = ,preferred,auto,2.0

# =====================
# INPUT
# =====================
input {
    kb_layout = us
    follow_mouse = 1
    sensitivity = 0.7

    touchpad {
        natural_scroll = true
    }
}

# =====================
# GENERAL WINDOW LAYOUT
# =====================
general {
    gaps_in = 5
    gaps_out = 8
    border_size = 3
    layout = dwindle

    col.active_border = rgb(414868)   # focused window
    col.inactive_border = rgb(1a1b26) # unfocused window
}

# =====================
# DECORATION
# =====================
decoration {
    rounding = 10

    active_opacity = 0.97
    inactive_opacity = 0.93
    fullscreen_opacity = 1.0
}

# =====================
# AUTOSTART APPS
# =====================
exec-once = hyprpaper &
exec-once = waybar &
exec-once = blueman-applet &
exec-once = nm-applet &

# =====================
# KEYBINDS
# =====================

# --- Volume keys ---
bind = ,XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5%
bind = ,XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5%
bind = ,XF86AudioMute,        exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = ,XF86AudioMicMute,     exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle

# --- Brightness keys ---
bind = ,XF86MonBrightnessUp, exec, brightnessctl set +5%
bind = ,XF86MonBrightnessDown, exec, brightnessctl set 5%-


# --- Core apps ---
bind = ALT, Return, exec, kitty          # Terminal
bind = ALT, B, exec, firefox             # Browser
bind = ALT, Space, exec, wofi --show drun # App launcher
bind = ALT, E, exec, kitty -e yazi       # File manager

# --- Session / config ---
bind = ALT, Q, killactive                # Close window
bind = ALT SHIFT, E, exit                # Exit Hyprland
bind = ALT SHIFT, R, exec, hyprctl reload # Reload config

# --- Screenshots (grim + slurp) ---
# ALT+Z        = drag area → clipboard
# ALT+Shift+Z  = drag area → file in ~/Pictures
bind = ALT, Z, exec, grim -g "$(slurp)" - | wl-copy
bind = ALT SHIFT, Z, exec, grim -g "$(slurp)" ~/Pictures/screenshot-$(date +%s).png

# --- Window focus / movement (Vim-style) ---
bind = ALT, H, movefocus, l
bind = ALT, J, movefocus, d
bind = ALT, K, movefocus, u
bind = ALT, L, movefocus, r

# Move window in layout
bind = ALT SHIFT, H, movewindow, l
bind = ALT SHIFT, J, movewindow, d
bind = ALT SHIFT, K, movewindow, u
bind = ALT SHIFT, L, movewindow, r

# Resize active window
bind = ALT CTRL, H, resizeactive, -40 0
bind = ALT CTRL, L, resizeactive, 40 0
bind = ALT CTRL, K, resizeactive, 0 -40
bind = ALT CTRL, J, resizeactive, 0 40

# --- Floating / fullscreen helpers ---
bind = ALT, T, togglefloating
bind = ALT, F, fullscreen, 1          # Maximized, keep bar/gaps
bind = ALT SHIFT, F, fullscreen, 0    # True fullscreen
bind = ALT, C, centerwindow           # Center floating window

# --- "Minimize" using special workspace ---
bind = ALT, M, togglespecialworkspace, magic
bind = ALT, M, movetoworkspace, +0
bind = ALT, M, togglespecialworkspace, magic
bind = ALT, M, movetoworkspace, special:magic
bind = ALT, M, togglespecialworkspace, magic

# --- Workspaces 1–9 ---
bind = ALT, 1, workspace, 1
bind = ALT, 2, workspace, 2
bind = ALT, 3, workspace, 3
bind = ALT, 4, workspace, 4
bind = ALT, 5, workspace, 5
bind = ALT, 6, workspace, 6
bind = ALT, 7, workspace, 7
bind = ALT, 8, workspace, 8
bind = ALT, 9, workspace, 9

bind = ALT SHIFT, 1, movetoworkspace, 1
bind = ALT SHIFT, 2, movetoworkspace, 2
bind = ALT SHIFT, 3, movetoworkspace, 3
bind = ALT SHIFT, 4, movetoworkspace, 4
bind = ALT SHIFT, 5, movetoworkspace, 5
bind = ALT SHIFT, 6, movetoworkspace, 6
bind = ALT SHIFT, 7, movetoworkspace, 7
bind = ALT SHIFT, 8, movetoworkspace, 8
bind = ALT SHIFT, 9, movetoworkspace, 9

# --- Lock ---
bind = ALT SHIFT, 0, exec, hyprlock


# --- Mouse bindings ---
bindm = ALT, mouse:272, movewindow
bindm = ALT, mouse:273, resizewindow
